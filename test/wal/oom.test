# encoding: tarantool
exec admin "lua i = 1 while true do box.insert(0, box.space[0]:len(), string.rep('test', i)) i = i + 1 end"
exec admin "lua box.space[0]:len()"
exec admin "lua i = 1 while true do box.insert(0, box.space[0]:len(), string.rep('test', i)) i = i + 1 end"
exec admin "lua box.space[0]:len()"
exec admin "lua i = 1 while true do box.insert(0, box.space[0]:len(), string.rep('test', i)) i = i + 1 end"
exec admin "lua box.space[0]:len()"
exec admin "lua box.space[0]:select(0, 0)"
exec admin "lua box.space[0]:select(0, 5)"
exec admin "lua box.space[0]:select(0, 9)"
exec admin "lua box.space[0]:select(0, 11)"
exec admin "lua box.space[0]:select(0, 15)"
# check that iterators work
exec admin "lua i = 0 for k,v in box.space[0]:pairs() do print(v) i = i + 1 if i == 50 then break end end"
exec admin "lua box.space[0]:truncate()"
exec admin "lua box.space[0]:insert(0, 'test')"
exec admin "lua box.space[0]:truncate()"
